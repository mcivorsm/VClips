<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VClips</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="navbar__container">
            <a href="index.html" id="navbar__logo">VClips</a>
            <div class="navbar__toggle" id="mobile-menu">
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
            <ul class="navbar__menu">
                <li class="navbar__item">
                    <a href="index.html" class="navbar__links">
                        Home
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="clips.html" class="navbar__links">
                        Clips
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="profile.html" class="navbar__links">
                        Profile
                    </a>
                </li>
                <li class="navbar__item">
                    <a href="signup.html" class="navbar__links">
                        Signup
                    </a>
                </li>
            </ul>
        </div>
    </nav>
    <div class = "signup-container">

    
    <h1> 
        Account Creation
    </h1>
    <form id = "signup" method="POST" action="/api/users/register" >
    <input type = "text" placeholder = "Enter Username" id = "userName" name = "userName" required><br>
    <input type = "password" placeholder = "Enter Password" id = "password" name = "password" minlength = "8" maxlength = "12" required><br>
  <!-- <input type = "password" placeholder = "Confirm Password" id = "confirm_password" minlength = "8" maxlength = "12" required><br>-->
    <input type = "email" placeholder = "Enter Email" id = "email" name = "email" required><br>

    <button type = "submit">submit</button>
    </form>
   <script>
    console.log("Script Loaded*****");                      
        document.getElementById('signup').addEventListener('submit', function(event) {
            event.preventDefault();
            console.log("Form submission intercepted");
            const user = {
                userName: document.getElementById('userName').value,
                email: document.getElementById('email').value,
                password: document.getElementById('password').value
            };
    
           fetch('http://localhost:8080/api/users/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(user)
            })
            .then(response => response.text())
            .then(data => console.log(data))
            .catch(error => console.error('Error:', error));
        });
    </script>
    </div>
    </body>